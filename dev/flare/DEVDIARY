tbook N<=>1 real account: a tbook is bound to only one real account, or to say, a tbook is a sub/virtual-account.
strat 1<=>N tbook: a strat may linked to many tbooks, e.g., a strat involving both futures and stocks. But a tbook can be only linked to one strat.

In CONFIG file:

logging (separated config file)

=== in one config file ===
real account: ctp accounts, stock accounts, ...
redis
namespace prefix/suffix, order/trade/ptf/loginsession, ...
=== ===

risk measures(not sure)

In DB:

strats-tbook mapping
tbook-account mapping

STRAT data

tbooks
portfolios, definition and realization

TBOOK data

linked strat
orders and trades
positions and margin rate
cash

(derived)
PNL
balance
margin
available cash

state machines: reserve, states, etc.
reqorder by oid, a raw reqorder for ordering by order obj.
keep queueing update to proxy in lock, for keeping sequence


