% vim:textwidth=70
\chapter{总结与进一步工作}
\label{chap:conclusion}

\section{总结}

分布式系统成为了支撑Internet服务的关键组成部分，随着系统规模越来越大，
系统处理逻辑日趋复杂，有效的管理与调试分布式系统成为了挑战。目前相关研
究取得了一些进展，但很多关键问题尚待解决。本文针对分布式系统自管理方法
、自动推断分布式系统层次结构任务模型等方面进行了研究，取得了有价值的研
究成果。

本文主要内容和研究贡献包括：

\begin{enumerate}
  
  \item 通过给管理系统增加内建的自管理能力，从根本上解决了管理系统本身
  也需要被管理的问题。我们设计了一个具备自管理能力的分布管理系统SMON（
  Self-Managed Overlay Network）。构成这个系统的节点相互监测运行状态，
  并相互管理维护。SMON能自动将自己部署到一组指定的节点上去，也能够自动
  恢复运行失败的节点，同时能够在线将整个系统更新至新的版本。我们在
  Planet-Lab平台上对SMON进行了评测，结果显示，SMON具有很好的扩展性和性
  能。

  \item 研究了一种自动推断系统层次结构任务模型的方法。这种方法使用插装
  技术，透明的监测系统运行，得到系统运行trace。在运行trace基础上，我们
  自动推断出叶子任务的边界，叶子任务是任务模型中最基本的任务单位。然后，
  我们推断出叶子任务之间的因果依赖关系，得到系统任务的因果关系图。在这
  个因果关系图的上，我们使用图的聚类算法自动寻找频繁子图，将叶子任务归
  纳为高层任务。通过递归使用聚类算法，我们得到了系统的层次结构任务模型。
  在一些复杂系统上的应用实例表明，推断方法能够自动推断出具有合理含义的
  任务模型来，使用得到的任务模型，能够帮助理解系统设计，解决系统已有的
  性能问题。

  \item 研究了如何利用系统日志，推断系统任务模型的方法。我们实现了基于
  日志的任务模型推断工具，并使用它分析一个分布式存储系统
  ChunkFS。ChunkFS是一个类似GFS~\cite{gfs}的分布式文件系统。我们的工具
  能够推断出合乎逻辑的任务层次结构。应用推断的模型，帮助我们理解
  ChunkFS的实际运行过程，并解决了ChunkFS中的一个性能问题。经验表明，系
  统日志能够很好的反映出应用层语意，我们的工具可以有效的推断系统任务模型，
  帮助理解系统设计和运行时行为。

\end{enumerate}

\section{进一步工作}

随着分布式系统规模越来越大，设计逻辑越来越复杂，如何减少人工劳动，实现
系统管理与调试的自动化，是一个越来越重要的问题。本文研究了分布式系统管
理与调试的一些关键问题，一些进一步的工作包括：

\begin{enumerate}

  \item 本文提出的自管理机制主要考虑了如何使系统能够安全、有效的实现自
  我部署、自我恢复和自我更新。进一步的，可以研究如何优化这个机制。例如，
  目前节点间相互随机探测的时间间隔是固定的，可以考虑使用自适应算法，动
  态调整这个间隔，减少不必要的探测造成的网络消耗。同时，还可以加入编程
  语言的支持，让使用者能够控制自管理策略的具体实现。

  \item 自动推断系统层次结构任务模型是实现系统自动调试与优化的必要步骤
  。也可以引入数据流分析的方法，更准确的推断任务之间的因果依赖关系。一
  些更先进的图的模式挖掘算法也可以用来更好的推断任务层次关系。
  
  \item 我们可以通过日志得到应用层任务的层次结构，进一步的，我们可以将
  两个推断算法的结果以合理的形式合并，从而可以得到更全面的反映系统设计
  的任务模型来。

  \item 系统任务模型是理解系统运行时行为，信息解决系统问题的关键。我们
  可以在系统模型的基础上，发展出自动的分析工具，解决系统因为资源冲突引
  起的性能问题。
  
\end{enumerate}
