% vim:textwidth=70:lines=42
\chapter{总结与进一步工作}
\label{chap:conclusion}

\section{总结}

分布式系统已成为支撑Internet服务的关键组成部分，随着系统规模越来越大，
系统处理逻辑日趋复杂，在运营管理阶段有效的管理与调试分布式系统成为了挑
战。目前相关研究取得了一些进展，但很多关键问题尚待解决。本文针对分布式
系统自管理方法、优化数据分发性能、从底层函数调用trace和上层系统日志两
方面自动推断系统层次结构任务模型等方面进行了研究，取得了有价值的研究成
果。

本文主要内容和研究贡献包括：

\begin{enumerate}
  
    \item 提出了使管理系统具备自管理机制的方法，设计实现了一个自管理的
    分布式应用管理系统SMON。SMON的自管理方法基于epidemic算法和认证代理
    技术，保证了自管理的可扩展性和安全性。理论分析表明，SMON的自管理操
    作时间随系统规模呈$O(\log N)$增长，自我部署中的额外负载和节点收到
    维护消息的频率都是常数级别($O(1)$)，并不随系统规模变化。在
    Planet-Lab平台上的实际评测证实了理论分析的正确性。SMON支持长期运行
    的Internet服务管理语意，用户可以很容易的扩展需要的应用管理语意。

    \item 研究了分布式分发系统的优化策略选择问题。通过在真实Internet测
    量数据上的广泛细致评测，研究了邻近邻居选择与动态上传带宽分配两种优
    化。得到了如下重要结论：临近邻居优化效果随邻近邻居比率增加而单调增
    加，其优化效果依赖于LRF块选择算法；使用贪心算法确定的上传节点个数
    使优化效果达到了局部最优，并且不依赖LRF块选择算法；合并使用两种优
    化方法并不具有叠加优化效果。这些结论对实际系统应用具有重要指导意义。

    \item 提出了一自动推断系统层次结构任务模型的方法。解决了已有工作需
    要需要手动标注任务边界与依赖关系的问题。本方法使用同步点作为启发自
    动推断任务边界，使用happened-before关系作为启发自动推断任务因果依
    赖关系，使用图上的聚类方法自动推断系统任务的层次结构。在实际系统上
    的应用表明，推断出的任务模型能够帮助理解与验证系统设计，调试系统性
    能问题。使用推断方法帮助调试了PacificA分布式存储系统（类似BigTable）
    的性能问题，该问题使压力测试中网络带宽利用率远低于100\%。

    \item 提出了从系统日志中推断任务层次结构的方法。系统日志代表了系统
    运行时的活动，本推断方法能够自动从无结构的系统日志文本中提取任务信
    息，并在一组任务上推断任务之间的层次结构关系。使用得到的任务层次关
    系，可以将系统活动分为层次结构任务实例，帮助理解与验证系统设计，解
    决系统性能问题。使用推断方法帮助解决了ChunkFS（类似GFS）的性能问题，
    该问题使压力测试中网络带宽利用率远低于100\%。

\end{enumerate}

\section{进一步工作}

随着分布式系统规模越来越大，设计逻辑越来越复杂，如何减少人工劳动，实现
系统管理与调试的自动化，是一个越来越重要的问题。一些进一步的工作包括：

\begin{enumerate}

  \item 可以研究如何优化自管理机制。例如，目前节点间相互随机探测的时间
  间隔是固定的，可以考虑使用自适应算法，动态调整这个间隔，减少不必要的
  探测造成的网络消耗。同时，还可以加入编程语言的支持，让使用者能够控制
  自管理策略的具体实现。

  \item 自动推断系统层次结构任务模型是实现系统自动调试与优化的必要步骤
  。也可以引入数据流分析的方法，更准确的推断任务之间的因果依赖关系。一
  些更先进的图的模式挖掘算法也可以用来更好的推断任务层次关系。
  
  \item 我们可以通过日志得到应用层任务的层次结构，进一步的，我们可以将
  两个推断算法的结果以合理的形式合并，从而可以得到更全面的反映系统设计
  的任务模型来。

  \item 系统任务模型是理解系统运行时行为，信息解决系统问题的关键。我们
  可以在系统模型的基础上，发展出自动的分析工具，解决系统因为资源冲突引
  起的性能问题。
  
\end{enumerate}
